import{y as o}from"./index-D3wbM7oO.js";class r extends Error{constructor(a){super(a),this.name="AuthError"}}async function u(){const a=o().token.value;if(!a)throw new r("No authentication token available");return{Authorization:`Bearer ${a}`,Accept:"application/json"}}async function s(t){if(!t.ok){const a=await t.json();throw t.status===401?(o().clearAuth(),new r("Authentication failed")):new Error(a.message||`HTTP error! status: ${t.status}`)}return t.json()}export{u as g,s as h};
