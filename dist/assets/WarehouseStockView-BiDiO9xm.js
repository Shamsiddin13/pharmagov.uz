import{_ as V}from"./Pagination-CtU1Q35g.js";import{O as $,o as l,c as i,a as e,i as f,v as m,d as k,w as _,k as v,g as h,q as E,t as g,F as K,b as P,f as w,e as U,n as q}from"./index-D3wbM7oO.js";import{_ as b}from"./Button-1RoVZDeX.js";import{f as j}from"./warehouse-Ds3tBLTz.js";import"./auth-Buz3Qiex.js";const N={class:"bg-white dark:bg-gray-800 shadow rounded-lg p-6 mb-6"},B={class:"space-y-6"},D={class:"grid grid-cols-1 gap-4"},W={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},A={class:"flex justify-end space-x-4"},M={__name:"WarehouseFilter",emits:["filter"],setup(C,{emit:p}){const n=p,r=$({sku:"",article:"",search:""}),x=y=>{y.key==="Enter"&&c()},s=()=>{Object.keys(r).forEach(y=>{r[y]=""}),n("filter",{...r})},c=()=>{n("filter",{...r})};return(y,t)=>(l(),i("div",N,[e("div",B,[e("div",D,[e("div",null,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Ummumiy qidirish",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=u=>r.search=u),placeholder:"Mahsulotlarni qidirish...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 focus:ring-2 focus:ring-indigo-500",onKeydown:x},null,544),[[m,r.search]])])]),e("div",W,[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Artikul",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=u=>r.article=u),placeholder:"Artikul boyicha qidirish...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 focus:ring-2 focus:ring-indigo-500",onKeydown:x},null,544),[[m,r.article]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"SKU",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=u=>r.sku=u),placeholder:"SKU boyicha qidirish...",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 focus:ring-2 focus:ring-indigo-500",onKeydown:x},null,544),[[m,r.sku]])])]),e("div",A,[k(b,{onClick:s,variant:"secondary"},{default:_(()=>t[6]||(t[6]=[v("Filterni tozalash")])),_:1}),k(b,{onClick:c,variant:"primary"},{default:_(()=>t[7]||(t[7]=[v("Filterni qo'shish")])),_:1})])])]))}},O={class:"w-full max-w-[2000px] mx-auto px-4 py-6"},z={key:0,class:"flex justify-center items-center h-64"},I={key:1,class:"bg-red-50 dark:bg-red-900 p-4 rounded-md"},T={class:"text-red-700 dark:text-red-200"},L={key:2,class:"space-y-6"},G={class:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden"},H={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Q={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},R={class:"px-6 py-4 whitespace-nowrap"},X={class:"flex items-center"},Y={class:"flex-shrink-0 h-10 w-10"},Z=["src","alt"],ee={class:"ml-4"},te={class:"text-sm font-medium text-gray-900 dark:text-white"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},le={key:0},ge={__name:"WarehouseStockView",setup(C){const p=h([]),n=h(!1),r=h(null),x=h({search:"",article:"",sku:""}),s=h({current_page:1,last_page:1,per_page:20,total:0});async function c(){try{n.value=!0,r.value=null;const a=await j(s.value.current_page,{...x.value,per_page:s.value.per_page});p.value=a.data,s.value=a.meta}catch(a){r.value="Error loading warehouse stock data",console.error("Error:",a)}finally{n.value=!1}}function y(a){s.value.current_page=1,x.value={...a},c()}function t(a){s.value.per_page=a,s.value.current_page=1,c()}function u(a){s.value.current_page=a,c()}function S(a){return a<=0?"text-red-600 dark:text-red-400":a<=10?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}function F(a){a.target.src="/placeholder-image.png"}return E(()=>{c()}),(a,d)=>(l(),i("div",O,[k(M,{onFilter:y}),n.value?(l(),i("div",z,d[0]||(d[0]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"},null,-1)]))):r.value?(l(),i("div",I,[e("div",T,g(r.value),1)])):(l(),i("div",L,[d[3]||(d[3]=e("div",{class:"flex justify-between items-center"},[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Warehouse Stock")],-1)),e("div",G,[e("div",H,[e("table",J,[d[2]||(d[2]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," Product "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," Article "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," SKU "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," In "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," Out "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase"}," Stock ")])],-1)),e("tbody",Q,[(l(!0),i(K,null,P(p.value,o=>(l(),i("tr",{key:o.sku,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",R,[e("div",X,[e("div",Y,[e("img",{src:o.image,class:"h-10 w-10 rounded-full object-cover",alt:o.product_name,onError:F},null,40,Z)]),e("div",ee,[e("div",te,g(o.product_name),1)])])]),e("td",ae,g(o.article),1),e("td",re,g(o.sku),1),e("td",se,g(o.in),1),e("td",oe,g(o.out),1),e("td",{class:q(["px-6 py-4 whitespace-nowrap text-sm font-medium",S(o.stock)])},g(o.stock),3)]))),128)),p.value.length===0?(l(),i("tr",le,d[1]||(d[1]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400"}," No items found ",-1)]))):w("",!0)])])])]),n.value?w("",!0):(l(),U(V,{key:0,meta:{current_page:s.value.current_page,last_page:s.value.last_page,per_page:s.value.per_page,this_page:p.value.length,filtered_total:s.value.total},onPageChange:u,onPerPageChange:t},null,8,["meta"]))]))]))}};export{ge as default};
